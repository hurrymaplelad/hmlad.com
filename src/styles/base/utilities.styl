mask-image($img, $repeat = no-repeat) {
  experimental(mask-image, image-url($img), -webkit, -moz, -o, -ms);
  experimental(mask-repeat, $repeat, -webkit, -moz, -o, -ms);
  width: image-width($img);
  height: image-height($img);
}

shadow-box($border = #fff .5em solid, $shadow = rgba(#000, .15) 0 1px 4px, $border-radius = .3em) {
  border-radius($border-radius);
  box-shadow($shadow);
  box-sizing(border-box);
  border: $border;
}

selection($bg, $color = inherit, $text-shadow = none){
  * {
    &::-moz-selection { background: $bg; color: $color; text-shadow: $text-shadow; }
    &::-webkit-selection { background: $bg; color: $color; text-shadow: $text-shadow; }
    &::selection { background: $bg; color: $color; text-shadow: $text-shadow; }
  }
}

text-color($color, $dark = dark, $light = light){
  $text-color = ( (red($color)*299) + (green($color)*587) + (blue($color)*114) ) / 1000;
  $text-color = $text-color >= 150 ? $dark : $light
  $text-color;
}

