<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8" /><title>Ids in Mongoose, JSON, and Backbone</title><meta name="author" content="Adam Hull" /><link rel="canonical" href="http://bites.goodeggs.com/ids-in-mongoose-json-and-backbone/" /><meta name="viewport" content="width=device-width, initial-scale=1" /><meta property="og:title" content="Ids in Mongoose, JSON, and Backbone" /><meta property="og:description" content=" Mongoose adds  id sugar  on top the default _id document attribute.  Backbone has  similar sugar , but the types don't line up.  Pushing bits between the two with a customary JSON document adds a third representation. 
 If you find yourself typing  vegetable.id  when you really needed  new ObjectID(vegetable.toJSON()._id)  this fancy chart might help:
" /><meta property="og:site_name" content="HurryMapleLad" /><meta property="og:url" content="http://hurrymaplelad.com/ids-in-mongoose-json-and-backbone/" /><link rel="icon" type="image/png" href="/favicon.png" /><link rel="stylesheet" href="/styles/main.css" /><link rel="alternate" title="HurryMapleLad" type="application/rss+xml" href="/rss.xml" /><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-35976996-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body><header><h1><a href="/">Hurry <br>Maple <br> Lad</a></h1></header><div id="main"><div id="content"><div><article class="hentry" role="article"><style scoped="scoped">.ids {
  width: 100%;
  margin-bottom: 30px;
  table-layout: fixed;
}

.ids th:first-child {
  font-size: 160%;
  padding-bottom: 20px;
  padding-top: 30px;
  font-weight: normal;
  width: 40%;
}

.ids th {
  font-weight: bold;
  width: 30%;
}
</style><header><h1 class="entry-title">Ids in Mongoose, JSON, and Backbone</h1><p class="meta"><time datetime="2013-04-02T00:00:00.000Z">April 2nd, 2013</time></p><p class="meta canonical"><a href="http://bites.goodeggs.com/ids-in-mongoose-json-and-backbone/" target="_blank">Crossposted from bites.goodeggs.com</a></p></header><div class="entry-content ids-in-mongoose-json-and-backbone"><p>Mongoose adds <a href="http://mongoosejs.com/docs/guide.html#id">id sugar</a> on top the default _id document attribute.  Backbone has <a href="http://backbonejs.org/#Model-idAttribute">similar sugar</a>, but the types don&#39;t line up.  Pushing bits between the two with a customary JSON document adds a third representation.</p>
<p>If you find yourself typing <code>vegetable.id</code> when you really needed <code>new ObjectID(vegetable.toJSON()._id)</code> this fancy chart might help:
<!-- more --></p>
<table class="ids">
  <tr><th>Mongoose</th><th>id</th><th>_id</th></tr>
  <tr><td><a href="http://mongoosejs.com/docs/api.html#document_Document-id">document</a></td><td>String</td><td>ObjectID</td></tr>
  <tr><td><a href="http://mongoosejs.com/docs/api.html#query_Query-lean">lean document</a></td><td>∅</td><td>ObjectID</td></tr>
  <tr><td><a href="http://mongoosejs.com/docs/api.html#document_Document-toJSON">document.toJSON()</a></td><td>∅</td><td>ObjectID</td></tr>

  <tr><th>JSON</th><th></th><th></th></tr>
  <tr><td><a href="http://www.json.org/">object</a></td><td>∅</td><td>String</td></tr>

  <tr><th>Backbone</th><th></th><th></th></tr>
  <tr><td><a href="http://backbonejs.org/#Model-id">model</td><td>String</td><td>∅</td></tr>
  <tr><td><a href="http://backbonejs.org/#Model-get">model.get()</td><td>∅</td><td>String</td></tr>
</table></div><footer><p class="meta"><a class="basic-alignment left" href="/a-breakthrough-a-day/">&laquo; A Breakthrough a Day</a><a class="basic-alignment right" href="/fibrous-on-harmony-generators/">Fibrous on Harmony Generators? Impossible &raquo;</a></p></footer></article></div></div></div><footer><p>by Adam Hull<a class="linkedin icon" href="http://www.linkedin.com/in/hurrymaplelad" target="_blank"></a><a class="goodreads icon" href="http://www.goodreads.com/hurrymaplelad" target="_blank"></a><a class="stackoverflow icon" href="http://stackoverflow.com/users/407845/hurrymaplelad" target="_blank"></a><a class="github icon" href="https://github.com/hurrymaplelad" target="_blank"></a></p></footer></body></html>